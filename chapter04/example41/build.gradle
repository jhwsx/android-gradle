// 多种方式创建任务

// 第一种方式：直接以一个任务名字创建任务
Task ex41CreateTask1 = task(ex41CreateTask1)

ex41CreateTask1.doLast {
    println '创建方法原型为：Project.java 中的 Task task(String name) throws InvalidUserDataException'
}

// 第二种方式：以一个任务名字 + 一个对该任务进行配置的 Map 对象来创建任务
// 可配置项有限, 可以看文档
//Task ex41CreateTask2 = task(ex41CreateTask2, group:  BasePlugin.BUILD_GROUP)
// 与上面的一行是一样的，好奇怪啊。
//Task ex41CreateTask2 = task(group:  BasePlugin.BUILD_GROUP, ex41CreateTask2)

Task ex41CreateTask2 = task([group:  BasePlugin.BUILD_GROUP, description: "my favorite", dependsOn: ex41CreateTask1], ex41CreateTask2)

ex41CreateTask2.doLast {
    println "创建方法原型为：Project.java 中的 Task task(Map<String, ?> args, String name) throws InvalidUserDataException;"
    println "任务分组：${ex41CreateTask2.group}"
    println "任务描述：${ex41CreateTask2.description}"
}

// 第三种方式：任务名字 + 闭包配置
// 配置灵活, 可以对 Task 对象的任何方法，属性进行配置
task ex41CreateTask3 {
    description '演示任务创建'
    dependsOn ex41CreateTask1
    didWork true
    enabled true
    property "didWork"
    group "myGroup"
    doLast {
        println "创建方法原型为：Project.java 中的 Task task(String name, Closure configureClosure);"
        println "任务描述：${description}"
        println "didWork：${didWork}"
        println "enabled：${enabled}"
        println "group：${group}"
    }
}

// 第四种方式：名字 + Map 参数 + 闭包

// 以上四种方式，最终调用的都是 TaskContainer 对象的 create 方法
tasks.create('ex41CreateTask4') {
    println it
    description '演示任务创建'
    dependsOn ex41CreateTask1
    didWork true
    enabled true
    property "didWork"
    group "myGroup"
    doLast {
        println "创建方法原型为：TaskContainer.java 中的 Task create(String name, Closure configureClosure) " +
                "throws InvalidUserDataException;"
        println "任务描述：${description}"
        println "didWork：${didWork}"
        println "enabled：${enabled}"
        println "group：${group}"
    }
}
